{"ast":null,"code":"// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { toast, ToastContainer } from 'react-toastify';\n// import { authService } from '../../services/authService';\n// import '../styles/Register.css';\n// import 'react-toastify/dist/ReactToastify.css';\n\n// const Register = () => {\n//   const navigate = useNavigate();\n//   const [formData, setFormData] = useState({\n//     username: '',\n//     email: '',\n//     password: '',\n//     confirmPassword: '',\n//   });\n//   const [errors, setErrors] = useState({});\n//   const [isLoading, setIsLoading] = useState(false);\n\n//   const handleChange = (e) => {\n//     const { name, value } = e.target;\n//     setFormData(prevState => ({\n//       ...prevState,\n//       [name]: value\n//     }));\n//   };\n//   const validateForm = () => {\n//     const newErrors = {};\n\n//     if (!formData.username.trim()) {\n//       newErrors.username = 'Username is required';\n//     }\n\n//     if (!formData.email) {\n//       newErrors.email = 'Email is required';\n//     } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n//       newErrors.email = 'Email is invalid';\n//     }\n\n//     if (!formData.password) {\n//       newErrors.password = 'Password is required';\n//     } else if (formData.password.length < 6) {\n//       newErrors.password = 'Password must be at least 6 characters';\n//     }\n\n//     if (formData.password !== formData.confirmPassword) {\n//       newErrors.confirmPassword = 'Passwords do not match';\n//     }\n\n//     setErrors(newErrors);\n//     return Object.keys(newErrors).length === 0;\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n\n//     if (validateForm()) {\n//       setIsLoading(true);\n//       try {\n//         console.log('Submitting registration form with data:', {\n//           ...formData,\n//           password: '[REDACTED]'\n//         });\n\n//         const response = await authService.register({\n//           username: formData.username,\n//           email: formData.email,\n//           password: formData.password\n//         });\n\n//         console.log('Registration successful:', response);\n\n//         setFormData({\n//           username: '',\n//           email: '',\n//           password: '',\n//           confirmPassword: ''\n//         });\n\n//         toast.success('Registration successful! You can now login with your credentials.', {\n//           position: \"top-center\",\n//           autoClose: 5000,\n//           hideProgressBar: false,\n//           closeOnClick: false,\n//           pauseOnHover: true,\n//           draggable: true,\n//           progress: undefined,\n//         });\n//         setIsLoading(false);\n\n//       } catch (error) {\n//         console.error('Registration error:', {\n//           message: error.message,\n//           status: error.response?.status,\n//           statusText: error.response?.statusText,\n//           data: error.response?.data\n//         });\n\n//         // Network or connection error\n//         if (!error.response) {\n//           toast.error('Unable to connect to the server. Please check your internet connection.');\n//           setErrors({\n//             submit: 'Connection error. Please try again.'\n//           });\n//           return;\n//         }\n\n//         // Server returned an error response\n//         if (error.response?.status === 409) {\n//           toast.error('Username or email already exists');\n//           setErrors({\n//             submit: 'Username or email already exists'\n//           });\n//         } else if (error.response?.status === 400) {\n//           toast.error('Please check your input and try again');\n//           const validationErrors = {};\n//           if (error.response?.data?.errors) {\n//             Object.entries(error.response.data.errors).forEach(([field, message]) => {\n//               validationErrors[field] = message;\n//             });\n//             setErrors(validationErrors);\n//           } else {\n//             setErrors({\n//               submit: error.response?.data?.message || 'Invalid registration data'\n//             });\n//           }\n//         } else {\n//           const errorMessage = error.response?.data?.message || 'Registration failed. Please try again later.';\n//           toast.error(errorMessage);\n//           setErrors({\n//             submit: errorMessage\n//           });\n//         }\n//       } finally {\n//         setIsLoading(false);\n//       }\n//     }\n//   };\n\n//   return (\n//     <div className=\"register-container\">\n//       <ToastContainer\n//         position=\"top-center\"\n//         autoClose={5000}\n//         hideProgressBar={false}\n//         newestOnTop={false}\n//         closeOnClick={false}\n//         rtl={false}\n//         pauseOnFocusLoss\n//         draggable\n//         pauseOnHover\n//       />\n\n//       <div className=\"register-card\">\n//         <h2>Create Account</h2>\n//         <form onSubmit={handleSubmit} className=\"register-form\">\n//           <div className=\"form-group\">\n//             <label htmlFor=\"username\">Username</label>\n//             <input\n//               type=\"text\"\n//               id=\"username\"\n//               name=\"username\"\n//               value={formData.username}\n//               onChange={handleChange}\n//               className={errors.username ? 'error' : ''}\n//             />\n//             {errors.username && <span className=\"error-message\">{errors.username}</span>}\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"email\">Email</label>\n//             <input\n//               type=\"email\"\n//               id=\"email\"\n//               name=\"email\"\n//               value={formData.email}\n//               onChange={handleChange}\n//               className={errors.email ? 'error' : ''}\n//             />\n//             {errors.email && <span className=\"error-message\">{errors.email}</span>}\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"password\">Password</label>\n//             <input\n//               type=\"password\"\n//               id=\"password\"\n//               name=\"password\"\n//               value={formData.password}\n//               onChange={handleChange}\n//               className={errors.password ? 'error' : ''}\n//             />\n//             {errors.password && <span className=\"error-message\">{errors.password}</span>}\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"confirmPassword\">Confirm Password</label>\n//             <input\n//               type=\"password\"\n//               id=\"confirmPassword\"\n//               name=\"confirmPassword\"\n//               value={formData.confirmPassword}\n//               onChange={handleChange}\n//               className={errors.confirmPassword ? 'error' : ''}\n//             />\n//             {errors.confirmPassword && (\n//               <span className=\"error-message\">{errors.confirmPassword}</span>\n//             )}\n//           </div>\n\n//           {errors.submit && (\n//             <div className=\"error-message submit-error\">{errors.submit}</div>\n//           )}\n\n//           <button \n//             type=\"submit\" \n//             className=\"register-button\" \n//             disabled={isLoading}\n//           >\n//             {isLoading ? 'Creating Account...' : 'Register'}\n//           </button>\n//         </form>\n\n//         <p className=\"login-link\">\n//           Already have an account? <a href=\"/login\">Login here</a>\n//         </p>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Register;","map":{"version":3,"names":[],"sources":["/Users/kritika.sinha/Documents/machine-coding-practice/src/components/Auth/Register.jsx"],"sourcesContent":["// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { toast, ToastContainer } from 'react-toastify';\n// import { authService } from '../../services/authService';\n// import '../styles/Register.css';\n// import 'react-toastify/dist/ReactToastify.css';\n\n// const Register = () => {\n//   const navigate = useNavigate();\n//   const [formData, setFormData] = useState({\n//     username: '',\n//     email: '',\n//     password: '',\n//     confirmPassword: '',\n//   });\n//   const [errors, setErrors] = useState({});\n//   const [isLoading, setIsLoading] = useState(false);\n\n//   const handleChange = (e) => {\n//     const { name, value } = e.target;\n//     setFormData(prevState => ({\n//       ...prevState,\n//       [name]: value\n//     }));\n//   };\n//   const validateForm = () => {\n//     const newErrors = {};\n    \n//     if (!formData.username.trim()) {\n//       newErrors.username = 'Username is required';\n//     }\n\n//     if (!formData.email) {\n//       newErrors.email = 'Email is required';\n//     } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n//       newErrors.email = 'Email is invalid';\n//     }\n\n//     if (!formData.password) {\n//       newErrors.password = 'Password is required';\n//     } else if (formData.password.length < 6) {\n//       newErrors.password = 'Password must be at least 6 characters';\n//     }\n\n//     if (formData.password !== formData.confirmPassword) {\n//       newErrors.confirmPassword = 'Passwords do not match';\n//     }\n\n//     setErrors(newErrors);\n//     return Object.keys(newErrors).length === 0;\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n    \n//     if (validateForm()) {\n//       setIsLoading(true);\n//       try {\n//         console.log('Submitting registration form with data:', {\n//           ...formData,\n//           password: '[REDACTED]'\n//         });\n\n//         const response = await authService.register({\n//           username: formData.username,\n//           email: formData.email,\n//           password: formData.password\n//         });\n        \n//         console.log('Registration successful:', response);\n        \n//         setFormData({\n//           username: '',\n//           email: '',\n//           password: '',\n//           confirmPassword: ''\n//         });\n\n//         toast.success('Registration successful! You can now login with your credentials.', {\n//           position: \"top-center\",\n//           autoClose: 5000,\n//           hideProgressBar: false,\n//           closeOnClick: false,\n//           pauseOnHover: true,\n//           draggable: true,\n//           progress: undefined,\n//         });\n//         setIsLoading(false);\n\n//       } catch (error) {\n//         console.error('Registration error:', {\n//           message: error.message,\n//           status: error.response?.status,\n//           statusText: error.response?.statusText,\n//           data: error.response?.data\n//         });\n        \n//         // Network or connection error\n//         if (!error.response) {\n//           toast.error('Unable to connect to the server. Please check your internet connection.');\n//           setErrors({\n//             submit: 'Connection error. Please try again.'\n//           });\n//           return;\n//         }\n\n//         // Server returned an error response\n//         if (error.response?.status === 409) {\n//           toast.error('Username or email already exists');\n//           setErrors({\n//             submit: 'Username or email already exists'\n//           });\n//         } else if (error.response?.status === 400) {\n//           toast.error('Please check your input and try again');\n//           const validationErrors = {};\n//           if (error.response?.data?.errors) {\n//             Object.entries(error.response.data.errors).forEach(([field, message]) => {\n//               validationErrors[field] = message;\n//             });\n//             setErrors(validationErrors);\n//           } else {\n//             setErrors({\n//               submit: error.response?.data?.message || 'Invalid registration data'\n//             });\n//           }\n//         } else {\n//           const errorMessage = error.response?.data?.message || 'Registration failed. Please try again later.';\n//           toast.error(errorMessage);\n//           setErrors({\n//             submit: errorMessage\n//           });\n//         }\n//       } finally {\n//         setIsLoading(false);\n//       }\n//     }\n//   };\n\n//   return (\n//     <div className=\"register-container\">\n//       <ToastContainer\n//         position=\"top-center\"\n//         autoClose={5000}\n//         hideProgressBar={false}\n//         newestOnTop={false}\n//         closeOnClick={false}\n//         rtl={false}\n//         pauseOnFocusLoss\n//         draggable\n//         pauseOnHover\n//       />\n      \n//       <div className=\"register-card\">\n//         <h2>Create Account</h2>\n//         <form onSubmit={handleSubmit} className=\"register-form\">\n//           <div className=\"form-group\">\n//             <label htmlFor=\"username\">Username</label>\n//             <input\n//               type=\"text\"\n//               id=\"username\"\n//               name=\"username\"\n//               value={formData.username}\n//               onChange={handleChange}\n//               className={errors.username ? 'error' : ''}\n//             />\n//             {errors.username && <span className=\"error-message\">{errors.username}</span>}\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"email\">Email</label>\n//             <input\n//               type=\"email\"\n//               id=\"email\"\n//               name=\"email\"\n//               value={formData.email}\n//               onChange={handleChange}\n//               className={errors.email ? 'error' : ''}\n//             />\n//             {errors.email && <span className=\"error-message\">{errors.email}</span>}\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"password\">Password</label>\n//             <input\n//               type=\"password\"\n//               id=\"password\"\n//               name=\"password\"\n//               value={formData.password}\n//               onChange={handleChange}\n//               className={errors.password ? 'error' : ''}\n//             />\n//             {errors.password && <span className=\"error-message\">{errors.password}</span>}\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"confirmPassword\">Confirm Password</label>\n//             <input\n//               type=\"password\"\n//               id=\"confirmPassword\"\n//               name=\"confirmPassword\"\n//               value={formData.confirmPassword}\n//               onChange={handleChange}\n//               className={errors.confirmPassword ? 'error' : ''}\n//             />\n//             {errors.confirmPassword && (\n//               <span className=\"error-message\">{errors.confirmPassword}</span>\n//             )}\n//           </div>\n\n//           {errors.submit && (\n//             <div className=\"error-message submit-error\">{errors.submit}</div>\n//           )}\n\n//           <button \n//             type=\"submit\" \n//             className=\"register-button\" \n//             disabled={isLoading}\n//           >\n//             {isLoading ? 'Creating Account...' : 'Register'}\n//           </button>\n//         </form>\n\n//         <p className=\"login-link\">\n//           Already have an account? <a href=\"/login\">Login here</a>\n//         </p>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Register;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}